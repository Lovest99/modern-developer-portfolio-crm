/* Safari-specific stylesheet */

/* Target Safari 10.1+ */
@media not all and (min-resolution:.001dpcm) {
  @supports (-webkit-appearance:none) {
    /* HeroSectionFinal fixes */
    .animate-slide-up {
      -webkit-animation-name: slide-up;
      -webkit-animation-duration: 0.6s;
      -webkit-animation-timing-function: ease;
      -webkit-animation-fill-mode: forwards;
    }

    .animate-subtle-drift-1 {
      -webkit-animation-name: subtle-drift-1;
      -webkit-animation-duration: 15s;
      -webkit-animation-timing-function: ease-in-out;
      -webkit-animation-iteration-count: infinite;
    }

    .animate-subtle-drift-2 {
      -webkit-animation-name: subtle-drift-2;
      -webkit-animation-duration: 18s;
      -webkit-animation-timing-function: ease-in-out;
      -webkit-animation-iteration-count: infinite;
    }

    .animate-subtle-drift-3 {
      -webkit-animation-name: subtle-drift-3;
      -webkit-animation-duration: 20s;
      -webkit-animation-timing-function: ease-in-out;
      -webkit-animation-iteration-count: infinite;
    }

    .animate-slow-pulse {
      -webkit-animation-name: slow-pulse;
      -webkit-animation-duration: 6s;
      -webkit-animation-timing-function: ease-in-out;
      -webkit-animation-iteration-count: infinite;
    }

    .animate-slow-pulse-delayed {
      -webkit-animation-name: slow-pulse-delayed;
      -webkit-animation-duration: 8s;
      -webkit-animation-timing-function: ease-in-out;
      -webkit-animation-iteration-count: infinite;
      -webkit-animation-delay: 1s;
    }

    .animation-delay-150 {
      -webkit-animation-delay: 150ms;
    }

    .animation-delay-300 {
      -webkit-animation-delay: 300ms;
    }

    .animation-delay-450 {
      -webkit-animation-delay: 450ms;
    }

    /* Glassmorphism fixes */
    .backdrop-blur-md,
    .backdrop-blur-xl,
    .backdrop-blur-sm,
    .backdrop-blur-lg,
    .backdrop-blur {
      -webkit-backdrop-filter: blur(12px);
      backdrop-filter: blur(12px);
    }

    /* Fix for gradient text */
    .bg-clip-text.text-transparent {
      -webkit-background-clip: text !important;
      -webkit-text-fill-color: transparent !important;
    }

    /* Fix for animations */
    .animate-text-reveal {
      -webkit-animation-name: text-reveal;
      -webkit-animation-duration: 1s;
      -webkit-animation-fill-mode: forwards;
      -webkit-animation-timing-function: ease;
    }

    .animate-gradient-x {
      -webkit-animation-name: gradient-x;
      -webkit-animation-duration: 10s;
      -webkit-animation-iteration-count: infinite;
      -webkit-animation-timing-function: ease;
    }

    .animate-neural-pulse {
      -webkit-animation-name: neural-pulse;
      -webkit-animation-duration: 4s;
      -webkit-animation-iteration-count: infinite;
      -webkit-animation-timing-function: ease-in-out;
    }

    .animate-neural-path {
      -webkit-animation-name: neural-path;
      -webkit-animation-duration: 10s;
      -webkit-animation-iteration-count: infinite;
      -webkit-animation-timing-function: linear;
    }

    /* Fix for sticky positioning */
    .sticky {
      position: -webkit-sticky;
    }

    /* Fix for min-height: 100vh */
    .min-h-screen {
      min-height: -webkit-fill-available;
    }

    /* Fix for grid layout */
    .grid {
      display: -ms-grid;
      display: grid;
    }

    /* Fix for transform-style: preserve-3d */
    .perspective-1000 {
      -webkit-perspective: 1000px;
    }

    .preserve-3d {
      -webkit-transform-style: preserve-3d;
    }

    /* Fix for background blur in navbar */
    nav.backdrop-blur-xl {
      -webkit-backdrop-filter: blur(24px) !important;
      backdrop-filter: blur(24px) !important;
    }

    /* Fix for glassmorphism cards */
    .bg-white\/80, .dark\:bg-gray-800\/80 {
      -webkit-backdrop-filter: blur(8px) !important;
      backdrop-filter: blur(8px) !important;
      background-color: rgba(255, 255, 255, 0.8) !important;
    }

    .dark .dark\:bg-gray-800\/80 {
      background-color: rgba(31, 41, 55, 0.8) !important;
    }

    /* Fix for filter effects */
    .blur-xl, .blur-lg, .blur-md, .blur-sm, .blur {
      -webkit-filter: blur(var(--tw-blur));
    }
  }
}

/* Target Safari 11+ */
@media screen and (-webkit-min-device-pixel-ratio:0) {
  _::-webkit-full-page-media, _:future, :root {
    /* Additional Safari 11+ specific fixes */
    .bg-gradient-to-r {
      -webkit-background-image: linear-gradient(to right, var(--tw-gradient-stops));
    }

    .bg-gradient-to-br {
      -webkit-background-image: linear-gradient(to bottom right, var(--tw-gradient-stops));
    }

    /* Fix for transition effects */
    .transition-all {
      -webkit-transition-property: all;
      -webkit-transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
      -webkit-transition-duration: 150ms;
    }

    /* Fix for transform effects */
    .transform {
      -webkit-transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
    }
  }
}

/* Safari-specific keyframes */
@-webkit-keyframes slide-up {
  from {
    -webkit-transform: translateY(20px);
    transform: translateY(20px);
    opacity: 0;
  }
  to {
    -webkit-transform: translateY(0);
    transform: translateY(0);
    opacity: 1;
  }
}

@-webkit-keyframes subtle-drift-1 {
  0%, 100% {
    -webkit-transform: translate(0, 0);
    transform: translate(0, 0);
  }
  25% {
    -webkit-transform: translate(4%, -2%);
    transform: translate(4%, -2%);
  }
  50% {
    -webkit-transform: translate(2%, 4%);
    transform: translate(2%, 4%);
  }
  75% {
    -webkit-transform: translate(-2%, 2%);
    transform: translate(-2%, 2%);
  }
}

@-webkit-keyframes subtle-drift-2 {
  0%, 100% {
    -webkit-transform: translate(0, 0);
    transform: translate(0, 0);
  }
  25% {
    -webkit-transform: translate(-4%, 2%);
    transform: translate(-4%, 2%);
  }
  50% {
    -webkit-transform: translate(-2%, -2%);
    transform: translate(-2%, -2%);
  }
  75% {
    -webkit-transform: translate(2%, -4%);
    transform: translate(2%, -4%);
  }
}

@-webkit-keyframes subtle-drift-3 {
  0%, 100% {
    -webkit-transform: translate(0, 0);
    transform: translate(0, 0);
  }
  33% {
    -webkit-transform: translate(3%, 3%);
    transform: translate(3%, 3%);
  }
  66% {
    -webkit-transform: translate(-3%, -4%);
    transform: translate(-3%, -4%);
  }
}

@-webkit-keyframes slow-pulse {
  0%, 100% {
    opacity: 0.3;
  }
  50% {
    opacity: 0.7;
  }
}

@-webkit-keyframes slow-pulse-delayed {
  0%, 100% {
    opacity: 0.2;
  }
  50% {
    opacity: 0.5;
  }
}

@-webkit-keyframes tech-float-1 {
  0%, 100% {
    -webkit-transform: translate(0, 0) scale(1);
    transform: translate(0, 0) scale(1);
  }
  25% {
    -webkit-transform: translate(10px, -15px) scale(1.05);
    transform: translate(10px, -15px) scale(1.05);
  }
  50% {
    -webkit-transform: translate(20px, 0) scale(1);
    transform: translate(20px, 0) scale(1);
  }
  75% {
    -webkit-transform: translate(10px, 15px) scale(0.95);
    transform: translate(10px, 15px) scale(0.95);
  }
}

@-webkit-keyframes tech-float-2 {
  0%, 100% {
    -webkit-transform: translate(0, 0) scale(1);
    transform: translate(0, 0) scale(1);
  }
  25% {
    -webkit-transform: translate(-10px, 15px) scale(1.05);
    transform: translate(-10px, 15px) scale(1.05);
  }
  50% {
    -webkit-transform: translate(-20px, 0) scale(1);
    transform: translate(-20px, 0) scale(1);
  }
  75% {
    -webkit-transform: translate(-10px, -15px) scale(0.95);
    transform: translate(-10px, -15px) scale(0.95);
  }
}

@-webkit-keyframes tech-float-3 {
  0%, 100% {
    -webkit-transform: translate(0, 0) scale(1);
    transform: translate(0, 0) scale(1);
  }
  25% {
    -webkit-transform: translate(15px, 10px) scale(1.05);
    transform: translate(15px, 10px) scale(1.05);
  }
  50% {
    -webkit-transform: translate(0, 20px) scale(1);
    transform: translate(0, 20px) scale(1);
  }
  75% {
    -webkit-transform: translate(-15px, 10px) scale(0.95);
    transform: translate(-15px, 10px) scale(0.95);
  }
}

@-webkit-keyframes text-reveal {
  0% {
    -webkit-clip-path: polygon(0 0, 0 0, 0 100%, 0 100%);
    transform: translateY(20px);
    opacity: 0;
  }
  100% {
    -webkit-clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
    transform: translateY(0);
    opacity: 1;
  }
}

@-webkit-keyframes gradient-x {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

@-webkit-keyframes neural-pulse {
  0%, 100% {
    -webkit-transform: scale(1);
    opacity: 0.3;
    -webkit-filter: blur(8px);
  }
  50% {
    -webkit-transform: scale(1.5);
    opacity: 0.7;
    -webkit-filter: blur(16px);
  }
}

@-webkit-keyframes neural-path {
  0% {
    stroke-dashoffset: 1000;
  }
  100% {
    stroke-dashoffset: 0;
  }
}

/* Fix for Safari's handling of aspect-ratio */
@supports not (aspect-ratio: 1/1) {
  [style*="aspect-ratio"] {
    position: relative;
  }

  [style*="aspect-ratio"]::before {
    content: "";
    display: block;
    padding-bottom: calc(100% / (var(--aspect-ratio, 1)));
  }

  [style*="aspect-ratio"] > * {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
}

/* Fix for Safari's handling of scrollbar styling */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background-color: rgba(156, 163, 175, 0.5);
  border-radius: 20px;
}

::-webkit-scrollbar-thumb:hover {
  background-color: rgba(156, 163, 175, 0.8);
}
